<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sCtrl</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Variables y creacion de hitboxes

//Movimiento
modo=0; //Estado del enemigo: 0 parado o paseando, 1 patrulla, 2 investigacion, 3 persecucion/ataque, 4 suplica
sprint=1;
xvel=4;
yvel=0;
grv=oProperties.grv;
aire=0;
contsalto=0;
agarrado=0;
//Hitboxes
cabeza=instance_create(x,y-212,oHbCab);
torso=instance_create(x,y-112,oHbTorso);
piernas=instance_create(x,y+38,oHbPiernas);
//pies=instance_create(x+20,y+191,oHbPies);
//Alerta
alerta=0;//indica como de consciente es de que hay peligro

tirado=0; //variable que indica si ha sido tirado al suelo
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///HitBoxes,movimiento y salud

//Salud
if(cabeza.salud&lt;=0||torso.salud&lt;=0)
{   
    with(cabeza)
        instance_destroy();
    with(torso)
        instance_destroy();
    with(piernas)
        instance_destroy();
    /*with(pies)
        instance_destroy();*/
    instance_destroy();
    
}

if(instance_exists(id))
{   
    //Gravedad
    if(!place_meeting(x,y+1,oSuelo))
        yvel+=grv;
    y+=yvel;
    if(place_meeting(x,y+1,oSuelo))
    {
        yvel=0;
        aire=0;
        if(place_meeting(x+5,y,oSuelo)||place_meeting(x-5,y,oSuelo))
            y-=1;
        
    }
    else
        aire=1;
        
    //Movimiento horizontal
    if(!agarrado&amp;&amp;!tirado){ //si no esta agarrado se mueve libremente
        xvel=sign(xvel)*/*(*/max(piernas.salud*1,0)*0.04/*+max(pies.salud*0.4,0))*0.04*/;//hace que la velocidad vaya en funcion de la salud de las piernas y pies
        if(!place_meeting(x+7*sign(xvel),y-5,oSuelo)&amp;&amp;!place_meeting(x+7*sign(xvel),y,oSuelo))
            x+=xvel*sprint;

        if(x&gt;=1700)
            xvel=-abs(xvel);
        else
            if(x&lt;=1000)
                xvel=abs(xvel);
   

        //Salto
        if(contsalto&lt;=0&amp;&amp;!aire)
        {
            yvel-=6;
            contsalto=180;
        }else
            contsalto--;
    }else{
        if(agarrado){//si está agarrado se mueve con mi personaje
            image_xscale=oPlayer.image_xscale;
            x=oPlayer.x+80*sign(oPlayer.image_xscale)
            y=oPlayer.y;
            }else{
                if(tirado){
                    image_angle=90;
                    //arreglar hitboxes
                }
            }
    }
    //Cabeza
    cabeza.x=x;
    cabeza.y=y-212;

    //Torso
    torso.x=x;
    torso.y=y-112;

    //Piernas
    piernas.x=x;
    piernas.y=y+38;

//Pies (LO COMENTO PORQUE NO SÉ QUE HACER CON ELLOS)
    /*pies.x=x+sign(image_xscale)*20;
    pies.y=y+191;*/
}

//Sprites
if(xvel!=0&amp;&amp;!agarrado)
    image_xscale=sign(xvel)*abs(image_xscale);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
